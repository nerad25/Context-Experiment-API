module.exports = (transaction, recieveMySqlResults) => transaction.query('SELECT DISTINCT e.expID, e.experimentName, e.dateCreated, (SELECT count(distinct a.subjectID) FROM answers a WHERE a.associatedExpID = e.expID) AS participants, a.dateTaken FROM experiment e, answers a INNER JOIN (SELECT max(dateTaken) dateTaken, associatedExpID FROM answers GROUP BY associatedExpID) j ON a.associatedExpID = j.associatedExpID AND a.dateTaken = j.dateTaken WHERE a.associatedExpID = e.expID', recieveMySqlResults)
